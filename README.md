# Finance Razzakov's — Railway Webhook Bot

Бот учёта общей кассы (USD/UZS) для двух пользователей (ты и брат). Работает в группе, только кнопки.

## Возможности
- Раздельные категории **Доходов** и **Расходов**
- Выбор валюты **USD/UZS**
- Общая касса с балансом по валютам
- История с указанием **кто добавил** (в скобках)
- Отчёты по периодам, экспорт в Excel (`/export` кнопкой "Экспорт")
- **AI‑помощник**: распознаёт запись из текста и отвечает на вопросы (если задан `OPENAI_API_KEY`)
- Webhook-режим для Railway (24/7)

## Быстрый запуск на Railway
1. Создай новый проект → Deploy from **GitHub** или загрузкой ZIP.
2. Добавь переменные окружения:
   - `TELEGRAM_BOT_TOKEN` — токен от @BotFather
   - `AUTHORIZED_USER_IDS` — два ID через запятую (например: `564415186,1038649944`)
   - `RAILWAY_STATIC_URL` — URL проекта на Railway (после деплоя, вида `https://<name>.up.railway.app`)
   - `PORT` — `8000`
   - `OPENAI_API_KEY` — (опционально) ключ OpenAI, чтобы включить AI
3. Redeploy. В логах будет запись: `Webhook set to: <URL>/webhook/<token>`.
4. Добавь бота в вашу **группу** и сделай его **админом** (чтобы он мог видеть кнопки и редактировать сообщения).

## Команды (кнопки)
Бот работает через кнопки. Резервные команды:
- `/start` — показать меню
- `/export` — Excel отчёт за выбранный период
- `/help` — справка

## Данные
- SQLite файл: `data.sqlite3` в рабочей директории (хранит операции).
